[Simulation]
simulation_time_ns = 20
freq_charge_update_fs = 200
freq_traj_output_ps = 10
voltage = 4.0

# simulation_type: Constant_V or MC_equil 
simulation_type = Constant_V

# platform: Reference, CPU, and CUDA are supported.
platform = CUDA

# Refactored MM version:
# - optimized: Unified, pure Python/NumPy implementation. (Default)
# - cython: Cython-accelerated version for maximum performance. (Requires compilation)
mm_version = cython

# ========== Warm Start Optimization ==========
# This feature allows the simulation to use the converged charges from the
# previous step as the initial guess for the current step, which can
# significantly speed up convergence for already equilibrated systems.
#
# enable_warmstart: True = Enable the feature, False = Always start from scratch (cold start).
enable_warmstart = True
#
# verify_interval: For safety, force a cold start every N steps to prevent
#                  any potential long-term error accumulation. 0 to disable.
verify_interval = 100
#
# --- Delayed Activation ---
# Use one of the following to delay the activation of warm start, allowing
# the system to equilibrate first.
#
# By Time (recommended): Activates after a certain number of nanoseconds.
warmstart_after_ns = 1
#
# By Frames: Activates after a certain number of charge-update steps.
# (Only active if warmstart_after_ns is 0)
warmstart_after_frames = 0
# ============================================================

# ========== Logging Mode ==========
# 'efficient': (Recommended) High-performance mode using StateDataReporter.
# 'legacy_print': (Debug Only) Prints all energies to the terminal. Extremely slow.
logging_mode = efficient

# 'efficient' mode settings:
write_charges = False

# Writing detailed energy components (Bond, Angle...) to components.log
# This is still performance-heavy but better than 'legacy_print'.
write_components = False

[Files]
outPath = 4v_20ns/
ffdir = ./ffdir/
pdb_file = for_openmm.pdb
; Comma-separated list for multiple files
residue_xml_list = sapt_residues.xml, graph_residue_c.xml, graph_residue_n.xml
ff_xml_list = sapt_noDB_2sheets.xml, graph_c_freeze.xml, graph_n_freeze.xml

[Electrodes]
; Comma-separated tuple of indices
cathode_index = 0,2
anode_index = 1,3
